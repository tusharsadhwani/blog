<!DOCTYPE html>
<html lang="en" class="astro-KKTFMSIY">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üë®‚Äçüíª</text></svg>">

<!-- Primary Meta Tags -->
<title>Implementing @property, @staticmethod and @classmethod from scratch</title>
<meta name="title" content="Implementing @property, @staticmethod and @classmethod from scratch">
<meta name="description" content="The builtin method decorators... aren't actually decorators?">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://tushar.lol">
<meta property="og:title" content="Implementing @property, @staticmethod and @classmethod from scratch">
<meta property="og:description" content="The builtin method decorators... aren't actually decorators?">
<meta property="og:image" content="https://tushar.lol/images/descriptors.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://tushar.lol">
<meta property="twitter:title" content="Implementing @property, @staticmethod and @classmethod from scratch">
<meta property="twitter:description" content="The builtin method decorators... aren't actually decorators?">
<meta property="twitter:image" content="https://tushar.lol/images/descriptors.jpg">

<link rel="stylesheet" href="/style/global.css">
<link rel="stylesheet" href="/style/merged-themes.css">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;600&family=Open+Sans:wght@400;600&display=swap">



  <link rel="stylesheet" href="/assets/asset.e9fb454e.css"></link>
<link rel="stylesheet" href="/assets/asset.f321c214.css"></link>
<link rel="stylesheet" href="/assets/asset.f96c2ed2.css"></link><style astro-style="true">astro-root, astro-fragment { display: contents; }</style><script type="module" src="/entry.917bf5e212.js" astro-script="/post/descriptors/script-0"></script>
<script type="module" data-astro-component-hydration astro-script="/post/descriptors/script-1">import setup from '../../entry.8eab8588.js';
import 'data:text/javascript;charset=utf-8,//[no before-hydration script]';
setup("Z1Tf25X", {name:"Newsletter",value: "preact"}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../entry.9e2f0c78.js"), import("../../entry.a91cb9b9.js")]);
  return (el, children) => hydrate(el)(Component, {"class":"astro-KKTFMSIY"}, children);

});
</script>
<script type="module" data-astro-component-hydration astro-script="/post/descriptors/script-2">import setup from '../../entry.8eab8588.js';
import 'data:text/javascript;charset=utf-8,//[no before-hydration script]';
setup("WpNq3", {name:"Switch",value: "preact"}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../entry.c6bc87db.js"), import("../../entry.a91cb9b9.js")]);
  return (el, children) => hydrate(el)(Component, {"class":"astro-ZEBAPXNU"}, children);

});
</script>
</head>
  

  <body id="top">
    <header class="astro-ZEBAPXNU">
  <a href="/" class="astro-ZEBAPXNU">
    <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" width="400" height="400" version="1.1" class="astro-ZEBAPXNU">
      <g class="astro-ZEBAPXNU">
        <rect width="380" height="380" x="10" y="10" stroke="var(--text-color)" stroke-width="18" rx="18" fill-opacity="0" class="astro-ZEBAPXNU"></rect>
        <text x="52.5" y="357.427" font-family="sans-serif" font-size="250" font-weight="bold" text-anchor="start" transform="matrix(0.946786642074585,0,0,1.0035842657089233,19.687279514968395,-1.4603642597794533)" xml:space="preserve" style="stroke: var(--text-color); fill: var(--text-color)" class="astro-ZEBAPXNU">TS</text>
      </g>
    </svg>

  </a>
  <div class="right astro-ZEBAPXNU">
    <a href="/rss.xml" title="RSS" class="astro-ZEBAPXNU"><img style="height: 36px; padding: 4px;" src="/rss.png" alt="RSS" class="astro-ZEBAPXNU"></a>
    <astro-root uid="WpNq3"></astro-root>
  </div>
</header>



    <div class="layout astro-44HSQUML">
  <header class="astro-44HSQUML">
    <p class="publish-date astro-44HSQUML">Thursday, 17 March 2022</p>
    <h1 class="title astro-44HSQUML">Implementing @property, @staticmethod and @classmethod from scratch</h1>
    <p class="description astro-44HSQUML">The builtin method decorators... aren&#39;t actually decorators?</p>
    <img src="/images/descriptors.jpg" title="Implementing @property, @staticmethod and @classmethod from scratch" alt="Implementing @property, @staticmethod and @classmethod from scratch" class="astro-44HSQUML">
    
<div class="author astro-BL6UQIAR">
  <p class="astro-BL6UQIAR"><a href="https://twitter.com/sadhlife" class="astro-BL6UQIAR">@tusharsadhwani</a></p>
</div>

  </header>
  <article class="content astro-44HSQUML">
    <main class="astro-44HSQUML">
      <p>I recently saw this blog by <a href="https://bas.codes/posts/python-decorators">bas.codes</a> that explained decorators in Python,
and used <code>@property</code> and <code>@staticmethod</code> as examples. However, in reality those
aren't really decorators. So I wanted to make a continuation to it, by
explaining how these are really implemented.</p><h2 id="property"><code>@property</code></h2><p><code>@property</code> allows us to create getter and setter functions for a property in
Python. Instead of defining a <code>get_x()</code> and <code>set_x()</code> method as you would in
other languages, Python lets you turn normal attribute access and assignment
into function calls:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Private data</span>
        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> <span class="token number">42</span>

    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Running getter"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_x

    <span class="token decorator annotation punctuation">@x<span class="token punctuation">.</span>setter</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Running setter"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> new_value

c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
c<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>x<span class="token punctuation">)</span></code></pre><p>This is the output:</p><pre class="language-bash"><code class="language-bash">$ python property.py
Running getter
<span class="token number">42</span>
Running setter
Running getter
<span class="token number">10</span></code></pre><p>Simply accessing <code>c.x</code> and assigning it a new value runs the defined functions.
Isn't that neat?</p><p>So when we do:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre><p>The "decorator" part of it is the same. As in, you can also write this like so:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    x <span class="token operator">=</span> <span class="token builtin">property</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre><p>So we are still wrapping <code>x</code>, but <code>property(...)</code> doesn't return a function.
It returns a <em>descriptor</em> object.</p><h2 id="so-whats-a-descriptor">So what's a descriptor</h2><p>Once <code>x</code> has been wrapped with <code>@property</code>, <code>c.x</code> is no longer a normal value or
function that exists on the object. It has a really weird behaviour: When you
try to access <code>c.x</code>, a function is called. This function call is what gives
the value of <code>c.x</code>, not the <code>x</code> object itself.</p><p>Regular class objects don't behave like this at all. For example:</p><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">some_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Running function"</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token number">42</span>

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> some_function

c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>x<span class="token punctuation">)</span></code></pre><pre class="language-bash"><code class="language-bash">$ python property.py
<span class="token operator">&lt;</span>bound method some_function of <span class="token operator">&lt;</span>__main__.C object at 0x7f0713093b5<span class="token operator"><span class="token file-descriptor important">0</span>>></span></code></pre><p><code>c.x</code> is a function in this case, but you can see that simply accessing it
doesn't run it. That's how Python normally works.</p><p>To be able to turn attribute access into a function call, you need descriptors.
That's pretty much all that they do: turn attribute access and assignment into
function calls.</p><p>Let's see how they work with an example:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MagicNumberDescriptor</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">42</span>

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> MagicNumberDescriptor<span class="token punctuation">(</span><span class="token punctuation">)</span>

c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># output: 42</span></code></pre><p>When Python sees the <code>__get__</code> method in a class, it automatically turns its
objects into descriptors. Python has special hooks in place, where when you try
to access the descriptor, Python's runtime triggers <code>__get__</code> for you.</p><p>Yeah, the answer ends up being "black magic" in the end. But this little bit of
magic allows us to do a lot of cool things.</p><p>Similarly, attribute assignment calls the <code>__set__</code> method. With this we can
create a variable that behaves like our <code>property</code>:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ValueDescriptor</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">42</span>

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>value

    <span class="token keyword">def</span> <span class="token function">__set__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> new_value

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> ValueDescriptor<span class="token punctuation">(</span><span class="token punctuation">)</span>
    y <span class="token operator">=</span> ValueDescriptor<span class="token punctuation">(</span><span class="token punctuation">)</span>

c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># 42</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>y<span class="token punctuation">)</span>  <span class="token comment"># 42</span>
c<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token number">10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># 52</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>y<span class="token punctuation">)</span>  <span class="token comment"># 42</span></code></pre><p>This is cool, but we are still far away from implementing <code>@property</code>, as:</p><ul>
<li>Currently, descriptor data is disjoint from object data. We can't access
<code>self.value</code> from <code>c</code>, and so we can't make <code>self.value</code> affect other parts of
the object. Unlike <code>@property</code>, where the underlying <code>self._x</code> value is still
within the class and can be accessed by other methods.</li>
<li>Right now, there's just one <code>__get__</code> and <code>__set__</code> method for all the
descriptors that we define. If we want to customize the getter or setter
function, like adding data validation, we need to create a new descriptor
class everytime.</li>
</ul><p>With these things in mind, let's implement a descriptor that is a lot more
flexible.</p><h2 id="implementing-property">Implementing <code>@property</code></h2><p>Let's start with implementing a <code>my_property</code> class, which works the same way as
<code>property</code>:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> <span class="token number">42</span>

    <span class="token decorator annotation punctuation">@my_property</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_x</code></pre><p>We need <code>my_property</code> to be a descriptor class, because we're essentially doing
<code>x = my_property(x)</code> through the descriptor. This is what It looks like:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">my_property</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> getter_func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>getter_func <span class="token operator">=</span> getter_func

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>getter_func<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> <span class="token number">42</span>

    <span class="token decorator annotation punctuation">@my_property</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_x</code></pre><p>Here's how it works:</p><p>The decorator behaves like <code>x = my_property(x)</code>, so we're storing the original
<code>x</code> function in <code>self.getter_func</code>.</p><p>Then when <code>c.x</code> is accessed, we just call the getter function, and pass it
<code>obj</code>. <code>obj</code> is the object <code>c</code>, it's needed to be passed because that becomes
the first parameter <code>self</code>. (We'll see a little more about this soon!)</p><p>You might have noticed that <code>__get__</code> gets two parameters passed in by default,
<code>obj</code> and <code>cls</code>. They're the object that tried to access the descriptor, and its
class respectively. This goes to show how intertwined descriptors are with
classes: The <code>__get__</code> method doesn't ever get triggered if you make the
descriptor object outside of a class:</p><pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">D</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> o<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">42</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">>></span><span class="token operator">></span> d <span class="token operator">=</span> D<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> d
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>D <span class="token builtin">object</span> at <span class="token number">0x7f2dde293460</span><span class="token operator">></span></code></pre><p>The "black magic" is only triggered when the descriptor is a class attribute.</p><p>Let's also implement the setter functionality, and make the setter a little more
interesting: Let's make it such that you can only increase the value of <code>x</code>:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">my_property</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> getter_func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>getter_func <span class="token operator">=</span> getter_func
        self<span class="token punctuation">.</span>setter_func <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>getter_func<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">setter</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> setter_func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setter_func <span class="token operator">=</span> setter_func

    <span class="token keyword">def</span> <span class="token function">__set__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>setter_func <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> RuntimeError<span class="token punctuation">(</span><span class="token string">"This attribute cannot be set!"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setter_func<span class="token punctuation">(</span>obj<span class="token punctuation">,</span> value<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> <span class="token number">42</span>

    <span class="token decorator annotation punctuation">@my_property</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_x

    <span class="token decorator annotation punctuation">@x<span class="token punctuation">.</span>setter</span>
    <span class="token keyword">def</span> <span class="token function">set_x</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> new_value <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>_x<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"new value must be bigger than old one"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> new_value

c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># 42</span>
c<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># 43</span></code></pre><p>The <code>@x.setter</code> decorator doesn't do anything special, it just stores the setter
function to be called in <code>__set__</code>.</p><p>There is one small issue, however, with this code:</p><pre class="language-bash"><code class="language-bash">$ python -i property.py
<span class="token number">42</span>
<span class="token number">43</span>
<span class="token operator">>></span><span class="token operator">></span> print<span class="token punctuation">(</span>c.set_x<span class="token punctuation">)</span>
None</code></pre><p>With <code>@x.setter</code>, we're essentially doing <code>set_x = x.setter(set_x)</code>. And since
<code>setter</code> doesn't return anything, we now have a <code>set_x</code> defined on the class for
no reason.</p><p>To avoid this, Python mandates that the setter function has the same name as
the getter function. But if we try to do that:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> <span class="token number">42</span>

    <span class="token decorator annotation punctuation">@my_property</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_x

    <span class="token decorator annotation punctuation">@x<span class="token punctuation">.</span>setter</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> new_value <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>_x<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"new value must be bigger than old one"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> new_value</code></pre><p>We have this problem:</p><pre class="language-bash"><code class="language-bash">$ python -i property.py
<span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> print<span class="token punctuation">(</span>c.x<span class="token punctuation">)</span>
None</code></pre><p>Since <code>setter</code> doesn't return anything, now <code>c.x</code> has been set to <code>None</code>.</p><p>To work around this, Python actually creates a new descriptor object. So, we
replace the old <code>x</code> (which only had a getter function) with a new <code>x</code> (which has
both getter and setter functions). Like so:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">my_property</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> getter_func<span class="token punctuation">,</span> setter_func<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>getter_func <span class="token operator">=</span> getter_func
        self<span class="token punctuation">.</span>setter_func <span class="token operator">=</span> setter_func

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>getter_func<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">setter</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> setter_func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> my_property<span class="token punctuation">(</span>self<span class="token punctuation">.</span>getter_func<span class="token punctuation">,</span> setter_func<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__set__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>setter_func<span class="token punctuation">(</span>obj<span class="token punctuation">,</span> value<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> <span class="token number">42</span>

    <span class="token decorator annotation punctuation">@my_property</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_x

    <span class="token decorator annotation punctuation">@x<span class="token punctuation">.</span>setter</span>
    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> new_value <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>_x<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"new value must be bigger than old one"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> new_value</code></pre><p>When <code>x.setter</code> is called, we store <code>setter_function</code> and return a new property
descriptor. That way <code>x</code> can now both get and set data.</p><h2 id="staticmethod"><code>@staticmethod</code></h2><p><code>staticmethod</code> is comparatively simple: It just makes a class method which
doesn't require a <code>self</code> parameter.</p><p>This is actually fairly easy to implement as a regular decorator function too:</p><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">my_staticmethod</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> wrapper

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@my_staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span>

c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># prints 'foo'</span></code></pre><p>But regular staticmethods also let you access them directly from the class:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span>

C<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># foo</span>
c<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># foo</span></code></pre><p>If we try to do that:</p><pre class="language-bash"><code class="language-bash">$ python -i staticmethod.py
<span class="token operator">>></span><span class="token operator">></span> C.foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
  File <span class="token string">"&lt;stdin>"</span>, line <span class="token number">1</span>, <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
TypeError: wrapper<span class="token punctuation">(</span><span class="token punctuation">)</span> missing <span class="token number">1</span> required positional argument: <span class="token string">'_'</span></code></pre><p><code>c.foo()</code> is a shorthand for <code>C.foo(c)</code>, so if you just call <code>C.foo()</code>, there is
no first argument. So we need to make the <code>_</code> optional:</p><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">my_staticmethod</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span>_<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> wrapper</code></pre><p>To avoid having to do the <code>wrapper(_=None)</code> hack, we need to use descriptors.</p><p>Since we had to manually pass in the <code>self</code> parameter in our previous <code>__get__</code>
implementation, having no <code>self</code> is actually even easier for us. Like so:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">my_staticmethod</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>func <span class="token operator">=</span> func

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>func


<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@my_staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span></code></pre><p>See? Really simple.</p><pre class="language-bash"><code class="language-bash"><span class="token operator">>></span><span class="token operator">></span> C.foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"foo"</span>
<span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> c.foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"foo"</span></code></pre><h2 id="classmethod"><code>@classmethod</code></h2><p><code>classmethod</code> is similar, but instead of having no arguments, it gets the class:</p><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Class name is:"</span><span class="token punctuation">,</span> cls<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span>

c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
C<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Class name is: C</span></code></pre><p>Since <code>__get__</code> already gets <code>cls</code> as its 3rd parameter, we just have to "bind"
that as the first argument of the function. We can either return a new lambda
function which calls <code>function(cls)</code>, or we can use <code>functools.partial</code>:</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> functools <span class="token keyword">import</span> partial

<span class="token keyword">class</span> <span class="token class-name">my_classmethod</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>func <span class="token operator">=</span> func

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> partial<span class="token punctuation">(</span>self<span class="token punctuation">.</span>func<span class="token punctuation">,</span> cls<span class="token punctuation">)</span>
        <span class="token comment"># or:</span>
        <span class="token comment"># return lambda: self.func(cls)</span>

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@my_classmethod</span>
    <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Class name is:"</span><span class="token punctuation">,</span> cls<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span>

c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
C<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Class name is: C</span></code></pre><blockquote>
<p>Note: This is a <em>*slight*</em> simplification, the behaviour of calling <code>__get__</code>
directly is going to be different from how the builtin <code>classmethod</code> behaves.
But, this is very rare in practice.</p>
</blockquote><h2 id="extras-methods-are-descriptors">Extras: Methods are descriptors</h2><p>Like in classmethod, if you put <code>obj</code> as the argument instead of <code>cls</code>, it makes
a regular method. That's actually how methods work in Python:</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> functools <span class="token keyword">import</span> partial

<span class="token keyword">def</span> <span class="token function">print_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Method</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> method<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_method <span class="token operator">=</span> method

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> partial<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_method<span class="token punctuation">,</span> obj<span class="token punctuation">)</span>  <span class="token comment"># bind object as first argument</span>

<span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

    print_name <span class="token operator">=</span> Method<span class="token punctuation">(</span>print_name<span class="token punctuation">)</span>

user <span class="token operator">=</span> User<span class="token punctuation">(</span><span class="token string">"George"</span><span class="token punctuation">)</span>
user<span class="token punctuation">.</span>print_name<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># George</span></code></pre><p>Python methods are descriptors internally, and that's where the first arg of
<code>self</code> gets passed in from. Now you know.</p><h2 id="appendix">Appendix</h2><p>There's a few things missing with the implementations above, like the <code>deleter</code>
attribute in properties, type annotations, preserving function names and
docstrings, and the like. I'll be leaving those for you to figure out yourself.
Here's some resources if you need help with those:</p><ul>
<li><a href="https://docs.python.org/3/library/functools.html#functools.wraps">functools.wraps</a></li>
<li><a href="https://tushar.lol/post/mypy-guide">mypy guide</a></li>
</ul><p>And that's it. Hopefully this helped you understand descriptors and why you'd
want to use them. There's some very interesting uses of descriptors outside of
these three, and hopefully if you encounter such a situation, you'll remember
this feature and be able to use it.</p>
    </main>
  </article>
</div>



    <hr class="astro-KKTFMSIY">
    <div class="centered astro-KKTFMSIY">
      <astro-root uid="Z1Tf25X"></astro-root>
    </div>
    <div class="back-to-top-wrapper astro-KKTFMSIY">
      <a href="#top" class="back-to-top-link astro-KKTFMSIY" aria-label="Scroll to Top">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-chevron-up astro-KKTFMSIY" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z" class="astro-KKTFMSIY"></path>
        </svg>
      </a>
    </div>
    <script src="https://utteranc.es/client.js" repo="tusharsadhwani/blog-comments" issue-term="title" theme="dark-blue" crossorigin="anonymous" async>
    </script>
  </body>
  <hr class="astro-ZUKZCZIV">
<footer class="astro-ZUKZCZIV">
  <a href="https://twitter.com/sadhlife" class="astro-ZUKZCZIV">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="astro-ZUKZCZIV"><path fill="currentColor" d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z" class="astro-ZUKZCZIV"></path></svg>
    <p class="astro-ZUKZCZIV">Follow for Python tips</p>
  </a>
  <a href="https://discord.gg/XjAQ53YbpE" class="astro-ZUKZCZIV">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="astro-ZUKZCZIV"><path fill="currentColor" d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z" class="astro-ZUKZCZIV"></path></svg>
    <p class="astro-ZUKZCZIV">Join the community</p>
  </a>
  <a href="https://github.com/tusharsadhwani/blog" class="astro-ZUKZCZIV">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="astro-ZUKZCZIV"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" class="astro-ZUKZCZIV"></path></svg>
    <p class="astro-ZUKZCZIV">Check source code</p>
  </a>
  <a href="https://tusharsadhwani.dev" class="astro-ZUKZCZIV">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="astro-ZUKZCZIV"><path fill="currentColor" d="M14.31.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.83l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.23l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05L0 11.97l.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.24l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05 1.07.13zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09-.33.22zM21.1 6.11l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01.21.03zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08-.33.23z" class="astro-ZUKZCZIV"></path></svg>
    <p class="astro-ZUKZCZIV">View the main site</p>
  </a>
</footer>


  <noscript>
    <img src="https://analytics.tushar.lol/ingress/f6c6e99f-df6a-43f3-9c16-f434cee0278e/pixel.gif" class="astro-KKTFMSIY">
  </noscript>
  <script defer src="https://analytics.tushar.lol/ingress/f6c6e99f-df6a-43f3-9c16-f434cee0278e/script.js"></script>
</html>
